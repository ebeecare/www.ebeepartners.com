<script> 
function disableScrolling(){
    var x=window.scrollX;
    var y=window.scrollY;
    window.onscroll=function(){window.scrollTo(x, y);};
}

function enableScrolling(){
    window.onscroll=function(){};
}

function submitform(){
    var loader = document.getElementById("loader-bg");
    var fullname =  document.getElementById("fullname").value;
    var email =  document.getElementById("email").value;
    var mobile =  document.getElementById("mobilephone").value;
    var typeSelect =  document.getElementById("type");
    var type =  typeSelect.options[typeSelect.selectedIndex].value;
    var rid =  document.getElementById("rid").value;
    var postal = document.getElementById("postalCode").value;
    var referral_code = document.getElementById('referralcode').value;
    var password = document.getElementById('password').value;
    var confirmPassword = document.getElementById('confirmPassword').value;
    var messages = [];
  	if (type.trim() == "" ){
        messages.push("Please select a valid registering as.");
    }
    if (fullname.trim() == ""){
        messages.push("Invalid/Blank name");
    }
    if (rid.trim() == ""){
        messages.push("Invalid/Blank registration id");
    }
    if (email.trim() == "" || email.indexOf("@") < 1 ){
        messages.push("Invalid/Blank email");
    }
    if (mobile.trim() == "" || mobile.toString().length != 8 ){
        messages.push("Invalid/Blank mobile");
    }
    if (postal.trim() == ""){
        messages.push("Invalid/Blank postal code");
    }
    if (referral_code.trim() == "" ){
        messages.push("Invalid/Blank referral code");
    }
    if (password.trim() == "" ){
        messages.push("Invalid/Blank password");
    }
    if (confirmPassword.trim() != password.trim()){
        messages.push("Passwords do not match");
    }
    
    if (messages.length > 0 ){
        alert(messages.join('\n'));
    } else {
        loader.style.display = 'block';
        disableScrolling();
        var jsonParams = {
            "name" : fullname,
            "email" : email,
            "mobilePhone" : mobile,
            "uid" : rid,
            "type" : type,
            "postalCode" : postal,
            "promoCode" : referral_code,
            "password": password.trim(),
            "cpassword": confirmPassword.trim()
        }
        console.log("everything "+ JSON.stringify(jsonParams) );
        $.ajax({
		  url: "http://161.202.19.121/api/registerPartner",
		  cache: false,
		  type: "POST",
		  contentType: "application/json; charset=utf-8",
		  data: JSON.stringify(jsonParams),
		  dataType: "json", 
		  success: function(data){
		  	loader.style.display = 'none';
            //console.log(data)
            if(data.status == 1){
                alert("Successful call : " + data.message);
                location.reload(true);
                ga('send', 'event', 'form', 'submit', 'partners registration', 1);
            }else{
               alert("Unsuccessful call : " + data.message + " \n Errors : "+data.errors);
               ga('send', 'event', 'form', 'submit', 'partners registration', 0); 
            }
            enableScrolling();

		  },
          error: function(XMLHttpRequest, textStatus, errorThrown) {
             loader.style.display = 'none';
             alert("Error!");
             enableScrolling();
          }
		});
    }
}

</script>

<div class="container">
	<img src="./img/logo_full.png" class="logo" />
</div>

<div class="banner">

	<div class="banner-content-container container">
		<div class="container-left">
			<div class="banner-text-container">
				<h2 class="banner-text-header">EBEECARE NEEDS PARTNERS LIKE YOU</h2>
				<p class="banner-text-body">Sign up with eBeeCare and earn great money as an independent healthcare professionals. Get paid weekly just for helping our community of caregivers get home care around the town. </p>
				<p class="banner-text-body">Be your own boss and get paid for giving care on your own schedule</p>
				<p class="banner-text-footer">By proceeding, I agree that Beecare may contact me by email, phone, or SMS (including by automated means) at the email address or number I provide, including for marketing purposes. I have read and understand the <b class=" special-text" style="display:inline-block;">Privacy Policy</b></p>
			</div>
		</div>
 		<div class="container-right">
 			<div class="registration-form">
	 			<div class="header">
					Sign Up As Our Registered Healthcare Professional
				</div>
               <div class="item">
               		<select class="input fill-width" name="type" id="type" defaultValue="">
               			<option value="" hidden class="place_holder">I am registering as*</option>
               			<option value="Doctor" >Doctor</option>
               			<option value="Nurse" >Nurse</option>
               			<option value="Therapist" >Therapist</option>
               			<option value="TCM" >TCM</option>
               			<option value="Other" >Other</option>
               		</select>
                </div>
                <div class="item">
                    <input class="input fill-width" type="text" name="fullname" id="fullname" placeholder="Enter Full Name*"></input>
                </div>
                <div class="item">
                    <input class="input fill-width" type="text" name="rid" id="rid" placeholder="Enter Registration Number*"></input>
                </div>
                <div class="item">
                    <input class="input fill-width" type="email" name="email" id="email" placeholder="Enter Email*"></input>
                </div>
                <div class="item">
                    <input class="input fill-width" type="password" name="password" id="password" placeholder="Enter Password*"></input>
                </div>
                <div class="item">
                    <input class="input fill-width" type="password" name="confirmPassword" id="confirmPassword" placeholder="Confirm Password*"></input>
                </div>
               	<div class="item">
                    <input class="input fill-width" type="number" name="mobilephone" id="mobilephone" placeholder="Enter Mobile Phone*"></input>
                </div>
                
          	 	<div class="item">
                    <input class="input fill-width" type="text" name="postalCode" id="postalCode" placeholder="Enter Home Postal Code*"></input>
                </div>

          	 	<div class="item">
                    <input class="input fill-width" type="text" name="referralcode" id="referralcode" placeholder="Enter Referral Code"></input>
                </div>
                <div class="submit" onClick="submitform();" >
                        Sign Up
                </div>
			</div>
		</div>
	</div>
</div>
<div>
<div class="container">
	<div class="action-container">
		<img class="logo" src="./img/money_bag.png" />
		<p class="content-header">
			Make good money
		</p>
		<p class="content-body">
			Got caregiving skill?
			Turn it into a money machine. Our society is aging rapidly and eBeeCare makes it easy for you to cash in on the action. Plus, you’ve already got everything you need to get started.
		</p>
	</div>
		<div class="action-container">
		<img class="logo" src="./img/time_clock.png" />
		<p class="content-header">
			Work when you want
		</p>
		<p class="content-body">
			Need something outside the 9 to 5? As an independent caregiver with eBeeCare, you’ve got freedom and flexibility to drive whenever you have time. Set your own schedule, so you can be there for all of life’s most important moments.
		</p>
	</div>
		<div class="action-container">
		<img class="logo" src="./img/nurse.png" />	
		<p class="content-header">
			Being a neighborhood nurse
		</p>
		<p class="content-body">
			We seek to create a network of neighbourhood nurses who have the compassion to help needy families that are shouldering heavy caregiving burdens
		</p>
	</div>
</div>
<div class="footer">
	<div class="container">
		<div class="footer-list">
			<div class="footer-item">
				<div>71 Ayer Rajah Crescent<br/>#04-11 S(139951)</div>
				<a href="https://www.google.com.sg/maps/place/71+Ayer+Rajah+Crescent,+Singapore+139951/@1.2967471,103.7844749,17z/data=!3m1!4b1!4m2!3m1!1s0x31da1a4fd6a29643:0x1cbb8a56dd8c9ccf!6m1!1e1" class="btn footer-maps-button" target="_blank">
					<img src="./img/footer-map.png" />
					<span class="footer-maps-label">Find Location</span>
				</a>
			</div>
			<div class="footer-item">
				<div class="footer-tel">9733 6938</div>
				<div><a href="mailto:contact@ebeecare.com">contact@ebeecare.com</a></div>
			</div>
			<div class="footer-item">
				<span>Find us on:</span>
				<a href="https://www.facebook.com/ebeecare/" class="footer-social-media"><FaFacebook /></a>
				<a href="https://twitter.com/ebeecaresg" class="footer-social-media"><FaTwitter /></a>
			</div>
		</div>
		<div class="copyright">
			<div>© Copyright 2016 by eBeeCare Pte. Ltd. (201415751N). </div>
			<div>All Rights Reserved.</div>
		</div>
	</div>
</div>
<div id="loader-bg"style="display:none;">
    <div id="loader" > <img src="./img/loading.gif" />Loading... Please wait</div>
</div>